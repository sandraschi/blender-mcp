{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Setup Development Environment",
      "type": "shell",
      "command": "python -m venv build_venv && build_venv\\Scripts\\activate && pip install -e .[dev]",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Install Dependencies",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && pip install -e .[dev]",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Run All Tests",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && python -m pytest -v",
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Run Integration Tests",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && python -m pytest tests/integration/ -v",
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Format Code",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && black src/ tests/ --line-length=100",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Build MCPB Package",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && mcpb pack . dist/blender-mcp.mcpb",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Validate MCPB Package",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && mcpb validate dist/blender-mcp.mcpb",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Run Type Checking",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && python -m mypy src/",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Run Linting",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate && python -m flake8 src/ tests/ --max-line-length=100",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Clean Build Environment",
      "type": "shell",
      "command": "if (Test-Path build_venv) { Remove-Item build_venv -Recurse -Force }; if (Test-Path dist) { Remove-Item dist -Recurse -Force }; if (Test-Path *.mcpb) { Remove-Item *.mcpb -Force }",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Development Server",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "isBackground": true
    },
    {
      "label": "Run MCP Server",
      "type": "shell",
      "command": "python -m blender_mcp",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "isBackground": true
    },
    {
      "label": "Check Tool Registration",
      "type": "shell",
      "command": "build_venv\\Scripts\\activate",
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "List Available Tools",
      "type": "shell",
      "command": "python -c \"import asyncio; from blender_mcp.app import get_app; async def main(): app = get_app(); tools = await app.get_tools(); print(f'Total tools: {len(tools)}'); [print(f'- {tool.name}') for tool in tools]; asyncio.run(main())\"",
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    }
  ]
}
